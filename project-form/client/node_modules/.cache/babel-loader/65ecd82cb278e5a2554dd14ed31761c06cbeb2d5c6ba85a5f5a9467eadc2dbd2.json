{"ast":null,"code":"module.exports = addHook;\nfunction addHook(state, kind, name, hook) {\n  var orig = hook;\n  if (!state.registry[name]) {\n    state.registry[name] = [];\n  }\n  if (kind === \"before\") {\n    hook = function (method, options) {\n      return Promise.resolve().then(orig.bind(null, options)).then(method.bind(null, options));\n    };\n  }\n  if (kind === \"after\") {\n    hook = function (method, options) {\n      var result;\n      return Promise.resolve().then(method.bind(null, options)).then(function (result_) {\n        result = result_;\n        return orig(result, options);\n      }).then(function () {\n        return result;\n      });\n    };\n  }\n  if (kind === \"error\") {\n    hook = function (method, options) {\n      return Promise.resolve().then(method.bind(null, options)).catch(function (error) {\n        return orig(error, options);\n      });\n    };\n  }\n  state.registry[name].push({\n    hook: hook,\n    orig: orig\n  });\n}","map":{"version":3,"names":["module","exports","addHook","state","kind","name","hook","orig","registry","method","options","Promise","resolve","then","bind","result","result_","catch","error","push"],"sources":["C:/Users/natek/Downloads/OSPO/react-os-framework/project-form/client/node_modules/before-after-hook/lib/add.js"],"sourcesContent":["module.exports = addHook;\r\n\r\nfunction addHook(state, kind, name, hook) {\r\n  var orig = hook;\r\n  if (!state.registry[name]) {\r\n    state.registry[name] = [];\r\n  }\r\n\r\n  if (kind === \"before\") {\r\n    hook = function (method, options) {\r\n      return Promise.resolve()\r\n        .then(orig.bind(null, options))\r\n        .then(method.bind(null, options));\r\n    };\r\n  }\r\n\r\n  if (kind === \"after\") {\r\n    hook = function (method, options) {\r\n      var result;\r\n      return Promise.resolve()\r\n        .then(method.bind(null, options))\r\n        .then(function (result_) {\r\n          result = result_;\r\n          return orig(result, options);\r\n        })\r\n        .then(function () {\r\n          return result;\r\n        });\r\n    };\r\n  }\r\n\r\n  if (kind === \"error\") {\r\n    hook = function (method, options) {\r\n      return Promise.resolve()\r\n        .then(method.bind(null, options))\r\n        .catch(function (error) {\r\n          return orig(error, options);\r\n        });\r\n    };\r\n  }\r\n\r\n  state.registry[name].push({\r\n    hook: hook,\r\n    orig: orig,\r\n  });\r\n}\r\n"],"mappings":"AAAAA,MAAM,CAACC,OAAO,GAAGC,OAAO;AAExB,SAASA,OAAOA,CAACC,KAAK,EAAEC,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAE;EACxC,IAAIC,IAAI,GAAGD,IAAI;EACf,IAAI,CAACH,KAAK,CAACK,QAAQ,CAACH,IAAI,CAAC,EAAE;IACzBF,KAAK,CAACK,QAAQ,CAACH,IAAI,CAAC,GAAG,EAAE;EAC3B;EAEA,IAAID,IAAI,KAAK,QAAQ,EAAE;IACrBE,IAAI,GAAG,SAAAA,CAAUG,MAAM,EAAEC,OAAO,EAAE;MAChC,OAAOC,OAAO,CAACC,OAAO,CAAC,CAAC,CACrBC,IAAI,CAACN,IAAI,CAACO,IAAI,CAAC,IAAI,EAAEJ,OAAO,CAAC,CAAC,CAC9BG,IAAI,CAACJ,MAAM,CAACK,IAAI,CAAC,IAAI,EAAEJ,OAAO,CAAC,CAAC;IACrC,CAAC;EACH;EAEA,IAAIN,IAAI,KAAK,OAAO,EAAE;IACpBE,IAAI,GAAG,SAAAA,CAAUG,MAAM,EAAEC,OAAO,EAAE;MAChC,IAAIK,MAAM;MACV,OAAOJ,OAAO,CAACC,OAAO,CAAC,CAAC,CACrBC,IAAI,CAACJ,MAAM,CAACK,IAAI,CAAC,IAAI,EAAEJ,OAAO,CAAC,CAAC,CAChCG,IAAI,CAAC,UAAUG,OAAO,EAAE;QACvBD,MAAM,GAAGC,OAAO;QAChB,OAAOT,IAAI,CAACQ,MAAM,EAAEL,OAAO,CAAC;MAC9B,CAAC,CAAC,CACDG,IAAI,CAAC,YAAY;QAChB,OAAOE,MAAM;MACf,CAAC,CAAC;IACN,CAAC;EACH;EAEA,IAAIX,IAAI,KAAK,OAAO,EAAE;IACpBE,IAAI,GAAG,SAAAA,CAAUG,MAAM,EAAEC,OAAO,EAAE;MAChC,OAAOC,OAAO,CAACC,OAAO,CAAC,CAAC,CACrBC,IAAI,CAACJ,MAAM,CAACK,IAAI,CAAC,IAAI,EAAEJ,OAAO,CAAC,CAAC,CAChCO,KAAK,CAAC,UAAUC,KAAK,EAAE;QACtB,OAAOX,IAAI,CAACW,KAAK,EAAER,OAAO,CAAC;MAC7B,CAAC,CAAC;IACN,CAAC;EACH;EAEAP,KAAK,CAACK,QAAQ,CAACH,IAAI,CAAC,CAACc,IAAI,CAAC;IACxBb,IAAI,EAAEA,IAAI;IACVC,IAAI,EAAEA;EACR,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"script","externalDependencies":[]}